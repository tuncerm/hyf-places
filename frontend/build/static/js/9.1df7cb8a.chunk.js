(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9],{59:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(43),i=a.n(n),r=a(44),c=a(10),l=a(0),s=a.n(l),p=a(8),o=a(54),u=a(42),d=a(45),f=a(15),v=a(53),m=a(58),b=a(46),h=a(11);a(59);t.default=function(){var e=Object(l.useContext)(h.a),t=Object(b.a)(),a=t.isLoading,n=t.error,j=t.sendRequest,E=t.clearError,O=Object(p.h)().placeId,V=Object(p.g)(),x=Object(m.a)({title:{value:"",isValid:!1},description:{value:"",isValid:!1}},!1),k=Object(c.a)(x,3),y=k[0],w=k[1],T=k[2];Object(l.useEffect)((function(){(function(){var e=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("".concat("https://hyf-places.herokuapp.com/api","/places"));case 2:t=e.sent,T({title:{value:t.place.title,isValid:!0},description:{value:t.place.description,isValid:!0}},!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[j,O,T]);var C=function(){var t=Object(r.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,t.next=4,j("".concat("https://hyf-places.herokuapp.com/api","/places/").concat(O),"PATCH",JSON.stringify({title:y.inputs.title.value,description:y.inputs.description.value}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token});case 4:V.push("/".concat(e.userId,"/places")),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(d.a,{error:n,onClear:E}),a&&s.a.createElement("div",{className:"center"},s.a.createElement(f.a,null)),!a&&s.a.createElement("form",{className:"place-form",onSubmit:C},s.a.createElement(o.a,{id:"title",element:"input",type:"text",label:"Title",validators:[Object(v.c)()],errorText:"Please enter a valid title.",onInput:w,initialValue:y.inputs.title.value,initialValid:y.inputs.title.isValid}),s.a.createElement(o.a,{id:"description",element:"textarea",label:"Description",validators:[Object(v.b)(5)],errorText:"Please enter a valid description (min. 5 characters).",onInput:w,initialValue:y.inputs.description.value,initialValid:y.inputs.description.isValid}),s.a.createElement(u.a,{type:"submit",disabled:!y.isValid},"UPDATE PLACE")))}}}]);
//# sourceMappingURL=9.1df7cb8a.chunk.js.map